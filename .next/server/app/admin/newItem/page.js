(()=>{var e={};e.id=895,e.ids=[895],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},82949:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>d,pages:()=>p,routeModule:()=>u,tree:()=>c});var s=i(50482),r=i(69108),o=i(62563),n=i.n(o),a=i(68300),l={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);i.d(t,l);let c=["",{children:["admin",{children:["newItem",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,94267)),"/Users/shehabwaleed/Development/work/cairostudio/src/app/admin/newItem/page.jsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(i.bind(i,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(i.bind(i,27422)),"/Users/shehabwaleed/Development/work/cairostudio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(i.bind(i,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],p=["/Users/shehabwaleed/Development/work/cairostudio/src/app/admin/newItem/page.jsx"],d="/admin/newItem/page",m={require:i,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/newItem/page",pathname:"/admin/newItem",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},39469:(e,t,i)=>{Promise.resolve().then(i.bind(i,77313))},77313:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var s=i(95344),r=i(3729),o=i(48414),n=i(5521),a=i(41223),l=i.n(a),c=i(53971),p=i(51776),d=i(95032),m=i(86378),u=i(90462),x=i(20783),g=i.n(x);i(61364);let h=()=>{let[e,t]=(0,r.useState)(!1),i={title:"",serviceTitle:"",categories:[],description:"",serviceDescription:"",homePage:"",mainVideo:"",poster:"",cover:"",introduction:"",introduction2:"",introduction3:"",date:"",link:"",challenge:"",solution:"",collectiveItems:[{type:"collective1",items:[{image:"",isImg:!0}]},{type:"collective2",items:[{image:"",isImg:!0}]},{type:"collectiveGrid",items:[{image:"",isImg:!0}]},{type:"collectiveDraggable",items:[""]},{type:"designSystem",items:[{image:"",isImg:!0}]},{type:"userExpImage",items:[{image:"",isImg:!0}]},{type:"interactionVideo",items:[{image:"",isImg:!0}]},{type:"filterImage",items:[{image:"",isImg:!0}]},{type:"projectImages",items:[{image:"",isImg:!0}]}],projectsDetails:{scopeOfWork:[{title:"Research",options:[]},{title:"Strategy",options:[]},{title:"Design",options:[]},{title:"Development",options:[]},{title:"Content",options:[]}],sections:[{name:"section1Left",options:[{text:""}]},{name:"section1Right",options:[{text:""}]},{name:"filteringLeft",options:[{text:"Advanced Filtering"}]},{name:"filteringRight",options:[{text:""}]},{name:"interactionLeft",options:[{text:"Interaction System"}]},{name:"interactionRight",options:[{text:""}]},{name:"designSystemText",options:[{text:""}]},{name:"userExpLeft",options:[{text:""}]},{name:"userExpRight",options:[{text:""}]},{name:"navigationLeft",options:[{text:""}]},{name:"navigationRight",options:[{text:""}]}],description:[]}},[a,x]=(0,r.useState)(i),h=(e,t,i,s)=>{x(r=>{let o=r.collectiveItems.map(r=>{if(r.type===e){let e={...r.items[t],[i]:s},o=[...r.items];return o[t]=e,{...r,items:o}}return r});return{...r,collectiveItems:o}})},j=(e,t)=>{x(i=>{let s=i.collectiveItems.map(i=>{if(i.type===e){let e=i.items.filter((e,i)=>i!==t);return{...i,items:e}}return i});return{...i,collectiveItems:s}})},v=e=>{let{name:t,value:i}=e.target;x(e=>({...e,[t]:i}))},y=async(e,t)=>{try{let i=a.title.trim().replace(/\s+/g,"_");if(!i){console.error("Project title is required for file upload");return}if(["collectiveGrid","collectiveDraggable","collective1","collective2","projectImages","designSystem","userExpImage","interactionVideo","filterImage"].includes(t)){let s=e.target.files,r=Array.from(s).map(async e=>{let t=(0,n.iH)(c.t,`uploads/${i}/${e.name}`),s=await (0,n.KV)(t,e),r=await (0,n.Jt)(s.ref),o=e.type.startsWith("image/");return{image:r,isImg:o}}),o=await Promise.all(r);x(e=>{let i=e.collectiveItems.map(e=>e.type===t?{...e,items:e.items?e.items.concat(o):o}:e);return{...e,collectiveItems:i}})}else{let s=e.target.files[0],r=(0,n.iH)(c.t,`uploads/${i}/${s.name}`),o=await (0,n.KV)(r,s),a=await (0,n.Jt)(o.ref);x(e=>({...e,[t]:a}))}}catch(e){console.error("Error handling file upload:",e)}},f=async e=>{e.preventDefault();let t=a.collectiveItems.map(e=>({...e,items:e.items.filter(e=>e.image&&""!==e.image)})),s={...a,collectiveItems:t};try{let e=(0,o.JU)(c.db,"projects",a.title);await (0,o.pl)(e,s),console.log("Project added to Firestore"),x(i),alert("Project added successfully!")}catch(e){console.error("Error adding project to Firestore:",e)}},D=(e,t,i)=>(0,s.jsxs)("label",{children:[e,s.jsx("input",{type:"text",name:t,value:i,onChange:v,placeholder:e})]}),b=(e,t,i)=>(0,s.jsxs)("label",{children:[e,s.jsx("textarea",{name:t,value:i,onChange:v,placeholder:e})]}),I=(e,t)=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("label",{children:[e,s.jsx("input",{type:"file",onChange:e=>y(e,t)})]}),s.jsx("div",{className:"filePreview",children:a[t]&&""!==a[t]&&s.jsx(s.Fragment,{children:"homePage"===t||"poster"===t||"cover"===t?s.jsx(l(),{src:a[t],alt:t}):s.jsx("video",{src:a[t],controls:!0})})})]});return(0,s.jsxs)("main",{className:"newItem",children:[s.jsx(g(),{href:"/admin",children:"back"}),s.jsx("h1",{children:"Add New Project"}),(0,s.jsxs)("form",{onSubmit:f,className:"newItem__form",children:[(0,s.jsxs)("div",{className:"textForm",children:[D("Title","title",a.title),D("Link","link",a.link),(0,s.jsxs)("label",{children:["Year:",s.jsx("input",{type:"number",name:"date",value:a.date,onChange:v,min:"2020",max:"2099",step:"1",placeholder:"Enter year"})]})]}),(0,s.jsxs)("div",{className:"textAreaForm",children:[b("Description","description",a.description),b("Challenge","challenge",a.challenge),b("Solution","solution",a.solution),b("Introduction","introduction",a.introduction),b("Introduction2","introduction2",a.introduction2),b("Introduction3","introduction3",a.introduction3)]}),s.jsx(u.Z,{projectData:a,categories:["Research","Branding","Creative Direction","UI/UX","Illustration","Animation","3D","Strategy","Digital Design","Graphic Design","Product Design","Motion Design","Web Development"],handleCategoryChange:e=>{let t=a.categories?[...a.categories]:[];t.includes(e)?t.splice(t.indexOf(e),1):t.push(e),x(e=>({...e,categories:t})),console.log("Updated projectData:",a)}}),(0,s.jsxs)("div",{className:"textForm",children:[D("Service Title","serviceTitle",a.serviceTitle),b("Service Description","serviceDescription",a.serviceDescription)]}),(0,s.jsxs)("div",{className:"arrayForm",children:[I("HomePage","homePage"),I("MainVideo","mainVideo"),I("Poster","poster"),I("Cover","cover"),a.collectiveItems.map((e,t)=>s.jsx(m.Z,{projectData:a,collectiveType:e.type,handleFileChange:y,handleItemChange:h,removeItem:j},t)),s.jsx(p.Z,{projectData:a,handleSectionChange:(e,t)=>{x(i=>{let s=[...i.projectsDetails.sections];return s[e].name=t,{...i,projectsDetails:{...i.projectsDetails,sections:s}}})},handleSectionOptionChange:(e,t,i)=>{x(s=>{let r={...s};return r.projectsDetails.sections[e].options[t].text=i,r})},addNewSectionOption:e=>{let t=[...a.projectsDetails.sections];if(!t[e]){console.error("Section does not exist at index:",e);return}t[e].options=[...t[e].options,{text:""}],x({...a,projectsDetails:{...a.projectsDetails,sections:t}})},removeSectionOption:(e,t)=>{let i=[...a.projectsDetails.sections];i[e].options.splice(t,1),x({...a,projectsDetails:{...a.projectsDetails,sections:i}})}}),s.jsx(d.Z,{projectData:a,handleSectionTitleChange:(e,t)=>{let i=[...a.projectsDetails.scopeOfWork];i[e].title=t,x({...a,projectsDetails:{...a.projectsDetails,scopeOfWork:i}})},addNewOption:e=>{let t=[...a.projectsDetails.scopeOfWork];t[e].options.push({name:""}),x({...a,projectsDetails:{...a.projectsDetails,scopeOfWork:t}})},handleOptionChange:(e,t,i,s)=>{let r=[...a.projectsDetails.scopeOfWork];r[e].options[t][i]=s,x({...a,projectsDetails:{...a.projectsDetails,scopeOfWork:r}})},removeOption:(e,t)=>{let i=[...a.projectsDetails.scopeOfWork];i[e].options.splice(t,1),x({...a,projectsDetails:{...a.projectsDetails,scopeOfWork:i}})}}),(0,s.jsxs)("div",{className:"textAreaForm",children:[s.jsx("label",{htmlFor:"",children:"Displayed"}),s.jsx("input",{type:"checkbox",name:"displayed",checked:e,onChange:e=>{let i=e.target.checked;t(i),x(e=>({...e,displayed:i}))}})]})]}),s.jsx("button",{type:"submit",children:"Submit"})]})]})}},90462:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var s=i(95344);i(3729);let r=({projectData:e,categories:t,handleCategoryChange:i})=>(0,s.jsxs)("div",{className:"add-group-categories",children:[s.jsx("label",{children:"Categories:"}),t.map(t=>(0,s.jsxs)("label",{children:[t,s.jsx("input",{type:"checkbox",value:t,checked:e.categories.includes(t),onChange:()=>i(t)})]},t))]})},86378:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});var s=i(95344);i(3729);var r=i(41223),o=i.n(r);let n=({projectData:e,collectiveType:t,handleFileChange:i,handleItemChange:r,removeItem:n})=>{let a=e.collectiveItems.find(e=>e.type===t),l=a?a.items.filter(e=>e.image&&""!==e.image):[];return(0,s.jsxs)("div",{className:"collectiveGridForm",children:[(0,s.jsxs)("label",{children:[t.charAt(0).toUpperCase()+t.slice(1),":"]}),s.jsx("input",{type:"file",onChange:e=>i(e,t),multiple:!0}),l.length>0&&l.map((e,i)=>(0,s.jsxs)("div",{className:"collectiveGridItem",children:[e.isImg?s.jsx(o(),{src:e.image,alt:`${t} item ${i}`}):s.jsx("video",{src:e.image,controls:!0}),(0,s.jsxs)("div",{className:"itemControls",children:[(0,s.jsxs)("label",{children:["Is Image?",s.jsx("input",{type:"checkbox",checked:e.isImg,onChange:e=>r(t,i,"isImg",e.target.checked)})]}),s.jsx("button",{type:"button",onClick:()=>n(t,i),children:"Remove"})]})]},i))]})}},95032:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var s=i(95344);i(3729);let r=({projectData:e,sectionIndex:t,handleSectionTitleChange:i,addNewOption:r,handleOptionChange:o,removeOption:n})=>s.jsx("section",{children:e.projectsDetails.scopeOfWork.map((e,t)=>(0,s.jsxs)("div",{className:"add-group-section",children:[(0,s.jsxs)("div",{className:"add-group-content",children:[s.jsx("label",{htmlFor:`sectionTitle-${t}`,children:"Scope Title:"}),s.jsx("input",{type:"text",id:`sectionTitle-${t}`,name:"sectionTitle",value:e.title,onChange:e=>i(t,e.target.value),required:!0}),s.jsx("button",{type:"button",onClick:()=>r(t),children:"+"})]}),s.jsx("div",{className:"option-groups",children:e.options.map((e,i)=>(0,s.jsxs)("div",{className:"option-group",children:[s.jsx("label",{htmlFor:`optionName-${t}-${i}`,children:"Title:"}),s.jsx("input",{type:"text",id:`optionName-${t}-${i}`,value:e.name,onChange:e=>o(t,i,"name",e.target.value),required:!0,placeholder:"Option Name"}),s.jsx("button",{type:"button",onClick:()=>n(t,i),children:"-"})]},i))})]},t))})},51776:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var s=i(95344);i(3729);let r=({projectData:e,sectionIndex:t,handleSectionChange:i,handleSectionOptionChange:r,addNewSectionOption:o,removeSectionOption:n})=>s.jsx("section",{children:e.projectsDetails.sections.map((e,a)=>(0,s.jsxs)("div",{className:"add-group-section sectionOptions",children:[(0,s.jsxs)("div",{className:"add-group-content",children:[s.jsx("label",{htmlFor:`sectionTitle-${t}`,children:"Section Title:"}),s.jsx("input",{type:"text",value:e.name,onChange:e=>i(a,e.target.value),placeholder:"Section Title"}),s.jsx("button",{type:"button",onClick:()=>o(a),children:"+"})]}),s.jsx("div",{className:"option-groups",children:e.options?.map((e,i)=>s.jsxs("div",{className:"option-group",children:[s.jsx("input",{type:"text",value:e.text,onChange:e=>r(a,i,e.target.value),placeholder:`Option ${i+1}`}),s.jsx("button",{type:"button",onClick:()=>n(t,i),children:"-"})]},i))})]},a))})},94267:(e,t,i)=>{"use strict";i.r(t),i.d(t,{$$typeof:()=>o,__esModule:()=>r,default:()=>n});let s=(0,i(86843).createProxy)(String.raw`/Users/shehabwaleed/Development/work/cairostudio/src/app/admin/newItem/page.jsx`),{__esModule:r,$$typeof:o}=s,n=s.default},73881:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});var s=i(70337);let r=e=>[{type:"image/x-icon",sizes:"24x24",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},61364:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),s=t.X(0,[638,0,337,223,706],()=>i(82949));module.exports=s})();