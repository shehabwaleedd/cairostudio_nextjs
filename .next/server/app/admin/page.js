(()=>{var e={};e.id=3,e.ids=[3],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},77276:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>l,routeModule:()=>h,tree:()=>d});var s=r(50482),i=r(69108),a=r(62563),o=r.n(a),n=r(68300),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);r.d(t,c);let d=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,80245)),"/Users/shehabwaleed/Development/work/cairostudio/src/app/admin/page.jsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,27422)),"/Users/shehabwaleed/Development/work/cairostudio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],l=["/Users/shehabwaleed/Development/work/cairostudio/src/app/admin/page.jsx"],u="/admin/page",p={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7878:(e,t,r)=>{Promise.resolve().then(r.bind(r,15669))},15669:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var s=r(95344),i=r(3729),a=r(48414),o=r(53971),n=r(22254),c=r(63646),d=r(95745),l=r(41223),u=r.n(l);r(44407);var p=r(49931);let h=()=>{let e=(0,n.useRouter)(),t=(0,p.useUserAuth)(),{projects:r,error:l,loading:h}=(0,c.Z)(),x=t=>{e.push(`/admin/${t}`)},m=async e=>{if(window.confirm("Are you sure you want to delete this project?"))try{await (0,a.oe)((0,a.JU)(o.db,"projects",e)),(0,d.Z)()}catch(e){console.error("Error deleting project: ",e)}};return((0,i.useEffect)(()=>{t||e.push("/login")},[t,e]),h)?s.jsx("div",{children:"LOADING"}):l?(0,s.jsxs)("p",{children:["Error: ",l]}):s.jsx("main",{className:"dashboard",children:(0,s.jsxs)("div",{className:"dashboard__container",children:[(0,s.jsxs)("div",{className:"dashboard__header",children:[s.jsx("h1",{children:"Dashboard"}),s.jsx("button",{onClick:()=>{e.push("/admin/newItem")},children:"Add New Project"})]}),s.jsx("div",{className:"dashboard__content",children:r.map(e=>(0,s.jsxs)("div",{className:"dashboard__project",children:[s.jsx("div",{className:"dashboard__project__img",children:s.jsx(u(),{src:e.homePage,alt:e.title,width:600,height:200})}),(0,s.jsxs)("div",{className:"dashboard__project__info",children:[s.jsx("h2",{children:e.title}),s.jsx("p",{children:e.description})]}),(0,s.jsxs)("div",{className:"dashboard__project__actions",children:[s.jsx("button",{onClick:()=>x(e.title),children:"edit"}),s.jsx("button",{onClick:()=>m(e.id),children:"-"})]})]},e.id))})]})})}},95745:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(48414),i=r(53971);let a=async({setLoading:e,setError:t,setProjects:r})=>{e(!0);try{let e=(await (0,s.PL)((0,s.hJ)(i.db,"projects"))).docs.map(e=>({...e.data(),id:e.id}));sessionStorage.setItem("projects",JSON.stringify(e)),r(e)}catch(e){t(e.message)}finally{e(!1)}}},63646:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var s=r(3729),i=r(95745);let a="projects",o=()=>{let[e,t]=(0,s.useState)([]),[r,o]=(0,s.useState)(!1),[n,c]=(0,s.useState)(null),d=()=>{let e=sessionStorage.getItem(a);if(!e)return!1;let t=JSON.parse(e).timestamp;return new Date().getTime()-t<36e5},l=(0,s.useCallback)(async()=>{await (0,i.Z)({setLoading:o,setError:c,setProjects:t})},[]);return(0,s.useEffect)(()=>{if(d()){let e=JSON.parse(sessionStorage.getItem(a)||"[]");Array.isArray(e)?t(e):l()}else l()},[l]),{projects:e,error:n,loading:r,refetch:l}}},80245:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>a,__esModule:()=>i,default:()=>o});let s=(0,r(86843).createProxy)(String.raw`/Users/shehabwaleed/Development/work/cairostudio/src/app/admin/page.jsx`),{__esModule:i,$$typeof:a}=s,o=s.default},73881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(70337);let i=e=>[{type:"image/x-icon",sizes:"24x24",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},44407:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,0,337,223,706],()=>r(77276));module.exports=s})();