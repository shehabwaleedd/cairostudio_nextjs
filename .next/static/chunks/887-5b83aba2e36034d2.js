(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[887],{9561:function(e,t,i){"use strict";i.d(t,{I:function(){return l},db:function(){return c},t:function(){return d}});var n=i(994),s=i(3085),r=i(4086),a=i(9584);let o=(0,n.ZF)({apiKey:"AIzaSyA-ov3uccqM2r4fjWPDoqNGQDFiu3SBIkk",authDomain:"cairo-studio-94ed8.firebaseapp.com",projectId:"cairo-studio-94ed8",storageBucket:"cairo-studio-94ed8.appspot.com",messagingSenderId:"330092202147",appId:"1:330092202147:web:d444d60c4613c29e5e5716",measurementId:"G-CW4KFYRLLJ"}),c=(0,r.ad)(o),l=(0,s.v0)(o),d=(0,a.cF)(o)},9167:function(e,t,i){"use strict";var n=i(7437),s=i(2265),r=i(827),a=i(2167),o=i(1648),c=i(6691),l=i.n(c);i(8491),t.Z=e=>{var t,i,c;let{relatedNames:d,heading:u}=e,{projects:p}=(0,o.Z)(),[m,f]=(0,s.useState)(null),[h,j]=(0,s.useState)({detailsOpened:!1,selectedProjectIndex:null,hoveredProjectIndex:null}),x=p.filter(e=>d.includes(e.title)),v=(0,s.useCallback)(e=>{let t=p[e];t&&(f(t),j({...h,detailsOpened:!0,selectedProjectIndex:e}))},[p,h]),g=(0,s.useCallback)(()=>{j({...h,selectedProjectIndex:null,detailsOpened:!1})},[h]);return(0,n.jsxs)("section",{className:"projectsPage",children:[(0,n.jsx)(r.E.h2,{initial:{opacity:0,y:110,skewY:10},children:u}),(0,n.jsxs)("div",{className:"projectsPage__container",children:[(0,n.jsx)(a.M,{mode:"wait",children:h.detailsOpened&&m?(0,n.jsx)("div",{className:"projectsPageCo__content"}):(0,n.jsx)(r.E.div,{className:"projectsPageCo__content",initial:{opacity:0,y:100},transition:{duration:.4,type:"spring",damping:12,stiffness:100,ease:[.42,0,.58,1]},animate:{opacity:1,y:0},exit:{opacity:0,y:100},children:x.map((e,t)=>(0,n.jsx)("div",{className:"projectsPageCo__items",onClick:()=>v(t),onMouseEnter:()=>j({...h,hoveredProjectIndex:t}),onMouseLeave:()=>j({...h,hoveredProjectIndex:null}),children:(0,n.jsxs)("div",{className:"projectsPageCo__item",children:[(0,n.jsx)("div",{className:"projectsPageCo__item__img",style:{backgroundImage:"url(".concat(e.homePage,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:(0,n.jsx)(a.M,{mode:"wait",children:h.hoveredProjectIndex===t&&(0,n.jsx)(r.E.video,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},src:e.mainVideo,style:{width:"Lemkus"===e.title||"Block Lords"===e.title?"70%":"100%",left:"Lemkus"===e.title||"Block Lords"===e.title?"15%":"",objectFit:"Lemkus"===e.title||"Block Lords"===e.title?"contain":"cover"},loop:!0,muted:!0,autoPlay:!0,playsInline:!0,height:"100%",width:"100%",title:e.title})})}),(0,n.jsxs)("div",{className:"projectsPageCo__item__desc",children:[(0,n.jsxs)("div",{className:"projects__item_desc-combined",children:[(0,n.jsx)("p",{children:e.categories.join(" - ")}),(0,n.jsx)("p",{children:e.date})]}),(0,n.jsx)("h3",{children:e.title})]})]})},t))})}),(0,n.jsx)(a.M,{mode:"wait",children:h.detailsOpened&&null!==h.selectedProjectIndex&&x[h.selectedProjectIndex]&&(0,n.jsxs)(r.E.div,{className:"projectsPageCo__details",initial:{opacity:0,y:200},animate:{opacity:1,y:0},exit:{opacity:0,y:100},children:[(0,n.jsxs)("div",{className:"projectsPageCo__details__container__close",onClick:g,children:[(0,n.jsx)("span",{children:x[h.selectedProjectIndex].index}),(0,n.jsx)("h3",{children:x[h.selectedProjectIndex].title}),(0,n.jsx)("span",{children:"Close"})]}),(0,n.jsx)("div",{className:"projectsPageCo__deCo",children:(0,n.jsx)(r.E.div,{className:"projectsPageCo__details__container",children:x[h.selectedProjectIndex]&&x[h.selectedProjectIndex].collectiveItems&&(null===(c=x[h.selectedProjectIndex])||void 0===c?void 0:null===(i=c.collectiveItems)||void 0===i?void 0:null===(t=i.filter(e=>"projectImages"===e.type)[0])||void 0===t?void 0:t.items.map((e,t)=>(0,n.jsx)("div",{className:"projectsPageCo__details__container__item",children:e.isImg?(0,n.jsx)("div",{className:"projectsPageCo__details__container__item__img",children:(0,n.jsx)(l(),{src:e.image,alt:"Project Img ".concat(t),loading:"lazy",placeholder:"blur",width:500,height:300,blurDataURL:e.image})}):(0,n.jsx)("div",{className:"projectsPageCo__details__container__item__video",children:(0,n.jsx)("video",{src:e.image,loop:!0,muted:!0,autoPlay:!0,playsInline:!0,title:"Project Video ".concat(t)})})},t)))})})]})})]})]})}},4934:function(e,t,i){"use strict";i.d(t,{Z:function(){return c}});var n=i(7437);i(2265);var s=i(827);let r={initial:{top:0},enter:e=>({top:"100vh",transition:{duration:1,delay:.05*e,ease:[.215,.61,.355,1]},transitionEnd:{height:"0",top:"0"}}),exit:e=>({height:"100vh",transition:{duration:1,delay:.4,ease:[.33,1,.68,1]}})},a={initial:{top:"-300px"},enter:{top:"-100vh",transition:{duration:.75,delay:.35,ease:[.76,0,.24,1]},transitionEnd:{top:"100vh"}},exit:{top:"-300px",transition:{duration:.75,ease:[.76,0,.24,1]}}};i(7436);let o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{initial:"initial",animate:"enter",exit:"exit",custom:t,variants:e}};var c=e=>{let{children:t}=e;return(0,n.jsxs)("div",{className:"page stairs",children:[(0,n.jsx)(s.E.div,{...o(a),className:"transition-background"}),(0,n.jsx)("div",{className:"transition-container",children:Array.from({length:5},(e,t)=>(0,n.jsx)(s.E.div,{...o(r,5-t)},t))}),t]})}},7060:function(e,t,i){"use strict";var n=i(4086),s=i(9561);let r=async e=>{let{setLoading:t,setError:i,setProjects:r}=e;t(!0);try{let e=(await (0,n.PL)((0,n.hJ)(s.db,"projects"))).docs.map(e=>({...e.data(),id:e.id}));sessionStorage.setItem("projects",JSON.stringify(e)),r(e)}catch(e){i(e.message)}finally{t(!1)}};t.Z=r},1648:function(e,t,i){"use strict";var n=i(2265),s=i(7060);let r="projects";t.Z=()=>{let[e,t]=(0,n.useState)([]),[i,a]=(0,n.useState)(!1),[o,c]=(0,n.useState)(null),l=()=>{let e=sessionStorage.getItem(r);if(!e)return!1;let t=JSON.parse(e).timestamp;return new Date().getTime()-t<36e5},d=(0,n.useCallback)(async()=>{await (0,s.Z)({setLoading:a,setError:c,setProjects:t})},[]);return(0,n.useEffect)(()=>{if(l()){let e=JSON.parse(sessionStorage.getItem(r)||"[]");Array.isArray(e)?t(e):d()}else d()},[d]),{projects:e,error:o,loading:i,refetch:d}}},8491:function(){},7436:function(){},2167:function(e,t,i){"use strict";i.d(t,{M:function(){return j}});var n=i(2265),s=i(538);function r(){let e=(0,n.useRef)(!1);return(0,s.L)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var a=i(2363),o=i(8243),c=i(961);class l extends n.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d({children:e,isPresent:t}){let i=(0,n.useId)(),s=(0,n.useRef)(null),r=(0,n.useRef)({width:0,height:0,top:0,left:0});return(0,n.useInsertionEffect)(()=>{let{width:e,height:n,top:a,left:o}=r.current;if(t||!s.current||!e||!n)return;s.current.dataset.motionPopId=i;let c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${n}px !important;
            top: ${a}px !important;
            left: ${o}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),n.createElement(l,{isPresent:t,childRef:s,sizeRef:r},n.cloneElement(e,{ref:s}))}let u=({children:e,initial:t,isPresent:i,onExitComplete:s,custom:r,presenceAffectsLayout:a,mode:l})=>{let u=(0,c.h)(p),m=(0,n.useId)(),f=(0,n.useMemo)(()=>({id:m,initial:t,isPresent:i,custom:r,onExitComplete:e=>{for(let t of(u.set(e,!0),u.values()))if(!t)return;s&&s()},register:e=>(u.set(e,!1),()=>u.delete(e))}),a?void 0:[i]);return(0,n.useMemo)(()=>{u.forEach((e,t)=>u.set(t,!1))},[i]),n.useEffect(()=>{i||u.size||!s||s()},[i]),"popLayout"===l&&(e=n.createElement(d,{isPresent:i},e)),n.createElement(o.O.Provider,{value:f},e)};function p(){return new Map}var m=i(781),f=i(6567);let h=e=>e.key||"",j=({children:e,custom:t,initial:i=!0,onExitComplete:o,exitBeforeEnter:c,presenceAffectsLayout:l=!0,mode:d="sync"})=>{var p;(0,f.k)(!c,"Replace exitBeforeEnter with mode='wait'");let j=(0,n.useContext)(m.p).forceRender||function(){let e=r(),[t,i]=(0,n.useState)(0),s=(0,n.useCallback)(()=>{e.current&&i(t+1)},[t]);return[(0,n.useCallback)(()=>a.Wi.postRender(s),[s]),t]}()[0],x=r(),v=function(e){let t=[];return n.Children.forEach(e,e=>{(0,n.isValidElement)(e)&&t.push(e)}),t}(e),g=v,_=(0,n.useRef)(new Map).current,y=(0,n.useRef)(g),P=(0,n.useRef)(new Map).current,E=(0,n.useRef)(!0);if((0,s.L)(()=>{E.current=!1,function(e,t){e.forEach(e=>{let i=h(e);t.set(i,e)})}(v,P),y.current=g}),p=()=>{E.current=!0,P.clear(),_.clear()},(0,n.useEffect)(()=>()=>p(),[]),E.current)return n.createElement(n.Fragment,null,g.map(e=>n.createElement(u,{key:h(e),isPresent:!0,initial:!!i&&void 0,presenceAffectsLayout:l,mode:d},e)));g=[...g];let I=y.current.map(h),k=v.map(h),C=I.length;for(let e=0;e<C;e++){let t=I[e];-1!==k.indexOf(t)||_.has(t)||_.set(t,void 0)}return"wait"===d&&_.size&&(g=[]),_.forEach((e,i)=>{if(-1!==k.indexOf(i))return;let s=P.get(i);if(!s)return;let r=I.indexOf(i),a=e;a||(a=n.createElement(u,{key:h(s),isPresent:!1,onExitComplete:()=>{_.delete(i);let e=Array.from(P.keys()).filter(e=>!k.includes(e));if(e.forEach(e=>P.delete(e)),y.current=v.filter(t=>{let n=h(t);return n===i||e.includes(n)}),!_.size){if(!1===x.current)return;j(),o&&o()}},custom:t,presenceAffectsLayout:l,mode:d},s),_.set(i,a)),g.splice(r,0,a)}),g=g.map(e=>{let t=e.key;return _.has(t)?e:n.createElement(u,{key:h(e),isPresent:!0,presenceAffectsLayout:l,mode:d},e)}),n.createElement(n.Fragment,null,_.size?g:g.map(e=>(0,n.cloneElement)(e)))}}}]);