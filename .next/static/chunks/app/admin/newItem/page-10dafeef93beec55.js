(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[895],{5046:function(e,t,i){Promise.resolve().then(i.bind(i,5354))},9561:function(e,t,i){"use strict";i.d(t,{I:function(){return l},db:function(){return r},t:function(){return p}});var s=i(994),o=i(3085),n=i(4086),c=i(9584);let a=(0,s.ZF)({apiKey:"AIzaSyA-ov3uccqM2r4fjWPDoqNGQDFiu3SBIkk",authDomain:"cairo-studio-94ed8.firebaseapp.com",projectId:"cairo-studio-94ed8",storageBucket:"cairo-studio-94ed8.appspot.com",messagingSenderId:"330092202147",appId:"1:330092202147:web:d444d60c4613c29e5e5716",measurementId:"G-CW4KFYRLLJ"}),r=(0,n.ad)(a),l=(0,o.v0)(a),p=(0,c.cF)(a)},5354:function(e,t,i){"use strict";i.r(t);var s=i(7437),o=i(2265),n=i(4086),c=i(9584),a=i(6691),r=i.n(a),l=i(9561),p=i(4060),d=i(2263),m=i(2083),u=i(9937),g=i(1396),h=i.n(g);i(2409),t.default=()=>{let[e,t]=(0,o.useState)(!1),i={title:"",serviceTitle:"",categories:[],description:"",serviceDescription:"",homePage:"",mainVideo:"",poster:"",cover:"",introduction:"",introduction2:"",introduction3:"",date:"",link:"",challenge:"",solution:"",collectiveItems:[{type:"collective1",items:[{image:"",isImg:!0}]},{type:"collective2",items:[{image:"",isImg:!0}]},{type:"collectiveGrid",items:[{image:"",isImg:!0}]},{type:"collectiveDraggable",items:[""]},{type:"designSystem",items:[{image:"",isImg:!0}]},{type:"userExpImage",items:[{image:"",isImg:!0}]},{type:"interactionVideo",items:[{image:"",isImg:!0}]},{type:"filterImage",items:[{image:"",isImg:!0}]},{type:"projectImages",items:[{image:"",isImg:!0}]}],projectsDetails:{scopeOfWork:[{title:"Research",options:[]},{title:"Strategy",options:[]},{title:"Design",options:[]},{title:"Development",options:[]},{title:"Content",options:[]}],sections:[{name:"section1Left",options:[{text:""}]},{name:"section1Right",options:[{text:""}]},{name:"filteringLeft",options:[{text:"Advanced Filtering"}]},{name:"filteringRight",options:[{text:""}]},{name:"interactionLeft",options:[{text:"Interaction System"}]},{name:"interactionRight",options:[{text:""}]},{name:"designSystemText",options:[{text:""}]},{name:"userExpLeft",options:[{text:""}]},{name:"userExpRight",options:[{text:""}]},{name:"navigationLeft",options:[{text:""}]},{name:"navigationRight",options:[{text:""}]}],description:[]}},[a,g]=(0,o.useState)(i),j=(e,t,i,s)=>{g(o=>{let n=o.collectiveItems.map(o=>{if(o.type===e){let e={...o.items[t],[i]:s},n=[...o.items];return n[t]=e,{...o,items:n}}return o});return{...o,collectiveItems:n}})},x=(e,t)=>{g(i=>{let s=i.collectiveItems.map(i=>{if(i.type===e){let e=i.items.filter((e,i)=>i!==t);return{...i,items:e}}return i});return{...i,collectiveItems:s}})},v=e=>{let{name:t,value:i}=e.target;g(e=>({...e,[t]:i}))},f=async(e,t)=>{try{let i=a.title.trim().replace(/\s+/g,"_");if(!i){console.error("Project title is required for file upload");return}if(["collectiveGrid","collectiveDraggable","collective1","collective2","projectImages","designSystem","userExpImage","interactionVideo","filterImage"].includes(t)){let s=e.target.files,o=Array.from(s).map(async e=>{let t=(0,c.iH)(l.t,"uploads/".concat(i,"/").concat(e.name)),s=await (0,c.KV)(t,e),o=await (0,c.Jt)(s.ref),n=e.type.startsWith("image/");return{image:o,isImg:n}}),n=await Promise.all(o);g(e=>{let i=e.collectiveItems.map(e=>e.type===t?{...e,items:e.items?e.items.concat(n):n}:e);return{...e,collectiveItems:i}})}else{let s=e.target.files[0],o=(0,c.iH)(l.t,"uploads/".concat(i,"/").concat(s.name)),n=await (0,c.KV)(o,s),a=await (0,c.Jt)(n.ref);g(e=>({...e,[t]:a}))}}catch(e){console.error("Error handling file upload:",e)}},y=async e=>{e.preventDefault();let t=a.collectiveItems.map(e=>({...e,items:e.items.filter(e=>e.image&&""!==e.image)})),s={...a,collectiveItems:t};try{let e=(0,n.JU)(l.db,"projects",a.title);await (0,n.pl)(e,s),console.log("Project added to Firestore"),g(i),alert("Project added successfully!")}catch(e){console.error("Error adding project to Firestore:",e)}},D=(e,t,i)=>(0,s.jsxs)("label",{children:[e,(0,s.jsx)("input",{type:"text",name:t,value:i,onChange:v,placeholder:e})]}),I=(e,t,i)=>(0,s.jsxs)("label",{children:[e,(0,s.jsx)("textarea",{name:t,value:i,onChange:v,placeholder:e})]}),b=(e,t)=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("label",{children:[e,(0,s.jsx)("input",{type:"file",onChange:e=>f(e,t)})]}),(0,s.jsx)("div",{className:"filePreview",children:a[t]&&""!==a[t]&&(0,s.jsx)(s.Fragment,{children:"homePage"===t||"poster"===t||"cover"===t?(0,s.jsx)(r(),{src:a[t],alt:t}):(0,s.jsx)("video",{src:a[t],controls:!0})})})]});return(0,s.jsxs)("main",{className:"newItem",children:[(0,s.jsx)(h(),{href:"/admin",children:"back"}),(0,s.jsx)("h1",{children:"Add New Project"}),(0,s.jsxs)("form",{onSubmit:y,className:"newItem__form",children:[(0,s.jsxs)("div",{className:"textForm",children:[D("Title","title",a.title),D("Link","link",a.link),(0,s.jsxs)("label",{children:["Year:",(0,s.jsx)("input",{type:"number",name:"date",value:a.date,onChange:v,min:"2020",max:"2099",step:"1",placeholder:"Enter year"})]})]}),(0,s.jsxs)("div",{className:"textAreaForm",children:[I("Description","description",a.description),I("Challenge","challenge",a.challenge),I("Solution","solution",a.solution),I("Introduction","introduction",a.introduction),I("Introduction2","introduction2",a.introduction2),I("Introduction3","introduction3",a.introduction3)]}),(0,s.jsx)(u.Z,{projectData:a,categories:["Research","Branding","Creative Direction","UI/UX","Illustration","Animation","3D","Strategy","Digital Design","Graphic Design","Product Design","Motion Design","Web Development"],handleCategoryChange:e=>{let t=a.categories?[...a.categories]:[];t.includes(e)?t.splice(t.indexOf(e),1):t.push(e),g(e=>({...e,categories:t})),console.log("Updated projectData:",a)}}),(0,s.jsxs)("div",{className:"textForm",children:[D("Service Title","serviceTitle",a.serviceTitle),I("Service Description","serviceDescription",a.serviceDescription)]}),(0,s.jsxs)("div",{className:"arrayForm",children:[b("HomePage","homePage"),b("MainVideo","mainVideo"),b("Poster","poster"),b("Cover","cover"),a.collectiveItems.map((e,t)=>(0,s.jsx)(m.Z,{projectData:a,collectiveType:e.type,handleFileChange:f,handleItemChange:j,removeItem:x},t)),(0,s.jsx)(p.Z,{projectData:a,handleSectionChange:(e,t)=>{g(i=>{let s=[...i.projectsDetails.sections];return s[e].name=t,{...i,projectsDetails:{...i.projectsDetails,sections:s}}})},handleSectionOptionChange:(e,t,i)=>{g(s=>{let o={...s};return o.projectsDetails.sections[e].options[t].text=i,o})},addNewSectionOption:e=>{let t=[...a.projectsDetails.sections];if(!t[e]){console.error("Section does not exist at index:",e);return}t[e].options=[...t[e].options,{text:""}],g({...a,projectsDetails:{...a.projectsDetails,sections:t}})},removeSectionOption:(e,t)=>{let i=[...a.projectsDetails.sections];i[e].options.splice(t,1),g({...a,projectsDetails:{...a.projectsDetails,sections:i}})}}),(0,s.jsx)(d.Z,{projectData:a,handleSectionTitleChange:(e,t)=>{let i=[...a.projectsDetails.scopeOfWork];i[e].title=t,g({...a,projectsDetails:{...a.projectsDetails,scopeOfWork:i}})},addNewOption:e=>{let t=[...a.projectsDetails.scopeOfWork];t[e].options.push({name:""}),g({...a,projectsDetails:{...a.projectsDetails,scopeOfWork:t}})},handleOptionChange:(e,t,i,s)=>{let o=[...a.projectsDetails.scopeOfWork];o[e].options[t][i]=s,g({...a,projectsDetails:{...a.projectsDetails,scopeOfWork:o}})},removeOption:(e,t)=>{let i=[...a.projectsDetails.scopeOfWork];i[e].options.splice(t,1),g({...a,projectsDetails:{...a.projectsDetails,scopeOfWork:i}})}}),(0,s.jsxs)("div",{className:"textAreaForm",children:[(0,s.jsx)("label",{htmlFor:"",children:"Displayed"}),(0,s.jsx)("input",{type:"checkbox",name:"displayed",checked:e,onChange:e=>{let i=e.target.checked;t(i),g(e=>({...e,displayed:i}))}})]})]}),(0,s.jsx)("button",{type:"submit",children:"Submit"})]})]})}},9937:function(e,t,i){"use strict";var s=i(7437);i(2265),t.Z=e=>{let{projectData:t,categories:i,handleCategoryChange:o}=e;return(0,s.jsxs)("div",{className:"add-group-categories",children:[(0,s.jsx)("label",{children:"Categories:"}),i.map(e=>(0,s.jsxs)("label",{children:[e,(0,s.jsx)("input",{type:"checkbox",value:e,checked:t.categories.includes(e),onChange:()=>o(e)})]},e))]})}},2083:function(e,t,i){"use strict";var s=i(7437);i(2265);var o=i(6691),n=i.n(o);t.Z=e=>{let{projectData:t,collectiveType:i,handleFileChange:o,handleItemChange:c,removeItem:a}=e,r=t.collectiveItems.find(e=>e.type===i),l=r?r.items.filter(e=>e.image&&""!==e.image):[];return(0,s.jsxs)("div",{className:"collectiveGridForm",children:[(0,s.jsxs)("label",{children:[i.charAt(0).toUpperCase()+i.slice(1),":"]}),(0,s.jsx)("input",{type:"file",onChange:e=>o(e,i),multiple:!0}),l.length>0&&l.map((e,t)=>(0,s.jsxs)("div",{className:"collectiveGridItem",children:[e.isImg?(0,s.jsx)(n(),{src:e.image,alt:"".concat(i," item ").concat(t)}):(0,s.jsx)("video",{src:e.image,controls:!0}),(0,s.jsxs)("div",{className:"itemControls",children:[(0,s.jsxs)("label",{children:["Is Image?",(0,s.jsx)("input",{type:"checkbox",checked:e.isImg,onChange:e=>c(i,t,"isImg",e.target.checked)})]}),(0,s.jsx)("button",{type:"button",onClick:()=>a(i,t),children:"Remove"})]})]},t))]})}},2263:function(e,t,i){"use strict";var s=i(7437);i(2265),t.Z=e=>{let{projectData:t,sectionIndex:i,handleSectionTitleChange:o,addNewOption:n,handleOptionChange:c,removeOption:a}=e;return(0,s.jsx)("section",{children:t.projectsDetails.scopeOfWork.map((e,t)=>(0,s.jsxs)("div",{className:"add-group-section",children:[(0,s.jsxs)("div",{className:"add-group-content",children:[(0,s.jsx)("label",{htmlFor:"sectionTitle-".concat(t),children:"Scope Title:"}),(0,s.jsx)("input",{type:"text",id:"sectionTitle-".concat(t),name:"sectionTitle",value:e.title,onChange:e=>o(t,e.target.value),required:!0}),(0,s.jsx)("button",{type:"button",onClick:()=>n(t),children:"+"})]}),(0,s.jsx)("div",{className:"option-groups",children:e.options.map((e,i)=>(0,s.jsxs)("div",{className:"option-group",children:[(0,s.jsx)("label",{htmlFor:"optionName-".concat(t,"-").concat(i),children:"Title:"}),(0,s.jsx)("input",{type:"text",id:"optionName-".concat(t,"-").concat(i),value:e.name,onChange:e=>c(t,i,"name",e.target.value),required:!0,placeholder:"Option Name"}),(0,s.jsx)("button",{type:"button",onClick:()=>a(t,i),children:"-"})]},i))})]},t))})}},4060:function(e,t,i){"use strict";var s=i(7437);i(2265),t.Z=e=>{let{projectData:t,sectionIndex:i,handleSectionChange:o,handleSectionOptionChange:n,addNewSectionOption:c,removeSectionOption:a}=e;return(0,s.jsx)("section",{children:t.projectsDetails.sections.map((e,t)=>{var r;return(0,s.jsxs)("div",{className:"add-group-section sectionOptions",children:[(0,s.jsxs)("div",{className:"add-group-content",children:[(0,s.jsx)("label",{htmlFor:"sectionTitle-".concat(i),children:"Section Title:"}),(0,s.jsx)("input",{type:"text",value:e.name,onChange:e=>o(t,e.target.value),placeholder:"Section Title"}),(0,s.jsx)("button",{type:"button",onClick:()=>c(t),children:"+"})]}),(0,s.jsx)("div",{className:"option-groups",children:null===(r=e.options)||void 0===r?void 0:r.map((e,o)=>(0,s.jsxs)("div",{className:"option-group",children:[(0,s.jsx)("input",{type:"text",value:e.text,onChange:e=>n(t,o,e.target.value),placeholder:"Option ".concat(o+1)}),(0,s.jsx)("button",{type:"button",onClick:()=>a(i,o),children:"-"})]},o))})]},t)})})}},2409:function(){}},function(e){e.O(0,[358,565,271,691,396,971,938,744],function(){return e(e.s=5046)}),_N_E=e.O()}]);